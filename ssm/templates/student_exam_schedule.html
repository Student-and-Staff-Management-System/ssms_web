{% extends 'stddash.html' %}
{% load static %}

{% block page_title %}My Exam Schedule | {{ student.student_name }}{% endblock %}

{% block extra_css %}
<style>
    /* Custom Styles for Schedule Table */
    .schedule-table {
        width: 100%;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border-collapse: collapse;
        overflow: hidden;
        margin-top: 20px;
        border: 1px solid #e2e8f0;
    }

    th,
    td {
        padding: 15px 20px;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
    }

    th {
        background: #f1f5f9;
        color: #5a7d7c;
        font-weight: 600;
    }

    .session-badge {
        background: #eef6f6;
        color: #5a7d7c;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
    }

    .empty-state {
        text-align: center;
        padding: 50px;
        color: #7f8c8d;
        background: #ffffff;
        border-radius: 12px;
        margin-top: 20px;
        border: 1px solid #e2e8f0;
    }

    @media (max-width: 768px) {
        .schedule-table {
            font-size: 0.9rem;
        }

        th,
        td {
            padding: 10px;
        }
    }
</style>
{% endblock %}

{% block header_title %}
<h1>ðŸ“… My Exam Schedule</h1>
{% endblock %}

{% block content %}
<!-- Current Semester Info -->
<div
    style="background: white; padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; font-weight: 500; color: #5a7d7c; border: 1px solid #e2e8f0;">
    Showing schedule for Semester {{ student.current_semester }}
</div>

<!-- Table -->
{% if schedule %}
<div style="overflow-x: auto;">
    <table class="schedule-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Day</th>
                <th>Subject Code</th>
                <th>Subject Name</th>
                <th>Session</th>
            </tr>
        </thead>
        <tbody>
            {% for exam in schedule %}
            <tr>
                <td>{{ exam.date|date:"d M Y" }}</td>
                <td>{{ exam.date|date:"l" }}</td>
                <td><strong>{{ exam.subject.code }}</strong></td>
                <td>{{ exam.subject.name }}</td>
                <td>
                    <span class="session-badge">{{ exam.get_session_display }}</span>
                    {% if exam.time %}<br><small style="color: #64748b;">{{ exam.time }}</small>{% endif%}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="empty-state">
    <p>No exam schedule released for your semester yet.</p>
</div>
{% endif %}
{% endblock %}